ls
use_git()
check()
library(devtools)
check()
export()
search()
usethis::create_package()
ls
system('pwd')
usethis::create_package('/Users/kseniia/my_R_packages/tcrgrapher')
devtools::document()
git status
check()
check()
check()
check()
check()
check()
check()
check()
check()
check()
check()
use_mit_license()
check()
check()
devtools::document()
check()
devtools::load_all()
?pipeline_OLGA
sample <- fread('/Users/kseniia/Downloads/41_3.txt ')
library(data.table)
sample <- fread('/Users/kseniia/Downloads/41_3.txt ')
install.packages(data.table)
install.packages('data.table')
install.packages("data.table")
library(data.table)
sample <- fread('/Users/kseniia/Downloads/41_3.txt')
pipeline_OLGA(sample)
?fread
tcrgrapher
tcrgrapher::pipeline_OLGA
devtools::load_all()
library(tcrgrapher)
tcrgrapher::pipeline_OLGA
tcrgrapher::pipeline_OLGA(sample)
devtools::load_all()
library(tcrgrapher)
pipeline_OLGA
pipeline_OLGA(sample)
pipeline_OLGA(sample)
devtools::load_all()
library(tcrgrapher)
pipeline_OLGA(sample)
devtools::load_all()
library(tcrgrapher)
devtools::load_all()
library(tcrgrapher)
pipeline_OLGA(sample)
devtools::load_all()
library(tcrgrapher)
pipeline_OLGA(sample)
devtools::load_all()
pipeline_OLGA(sample)
remotes::install_github("KseniaMIPT/tcrgrapher")
library(tcrgrapher)
pipeline_OLGA(
pipeline_OLGA()
pipeline_OLGA(sample)
pipeline_OLGA(sample)
pipeline_OLGA(sample)
olga_commands
paste0(
"olga-compute_pgen --", chain, " --display_off --time_updates_off
--seq_in 0  --lines_to_skip 1 -d 'tab' -i tmp", 1:cores, ".tsv -o tmp_out",
1:cores, ".tsv"
)
paste0(
"olga-compute_pgen --", "chain", " --display_off --time_updates_off
--seq_in 0  --lines_to_skip 1 -d 'tab' -i tmp", "1:cores", ".tsv -o tmp_out",
"1:cores", ".tsv"
)
paste0(
"olga-compute_pgen --", "chain", " --display_off --time_updates_off --seq_in 0  --lines_to_skip 1 -d 'tab' -i tmp", "1:cores", ".tsv -o tmp_out",
"1:cores", ".tsv"
)
devtools::load_all()
pipeline_OLGA(sample)
tempdir()
tempdir()
OLGAVJ
OLGA_V_J_mouse_beta
load("~/my_R_packages/tcrgrapher/data/OLGA_V_J_mouse_beta.rda")
load("~/my_R_packages/tcrgrapher/data/VDJT.rda")
View(VDJT)
load("~/my_R_packages/tcrgrapher/data/VDJT.rda")
typeof(VDJT)
check()
devtools::document()
?VDJT
devtools::load_all()
?VDJT
devtools::document()
devtools::document()
use warnings()
warnings()
devtools::document()
devtools::document()
devtools::load_all()
?VDJT
warnings()
devtools::document()
devtools::load_all()
?VDJT
devtools::document()
devtools::load_all()
?VDJT
devtools::document()
devtools::load_all()
View(OLGAVJ)
devtools::document()
devtools::document()
devtools::document()
devtools::load_all()
?OLGA_V_J_mouse_beta
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
load("~/my_R_packages/tcrgrapher/data/olga_v_j_mouse_beta.rda")
devtools::document()
options(stringsAsFactors = FALSE)
#all based on ("../OLGA-master/olga/default_models/mouse_T_beta/model_params.txt")
#and model_marginals.txt
data_v=c(0.0440805,0.0454627,0.0457181,0.0955078,0.0544171,0,0,0,6.00962e-05,0,0,0.0608283,0.038777,0.028129,0.0625765,0,0.0324506,0.0232873,0.052524,0.0423377,0.0226563,0,0.0621995,0.031265,0.0102163,0.00509315,0.00776743,0.0665865,0,0.0894231,0,0,0.0321364,0.00172776,0.0447716)
genes_v=c("TRBV1","TRBV2","TRBV3","TRBV4","TRBV5",
"TRBV6","TRBV7","TRBV8","TRBV9","TRBV10",
"TRBV11","TRBV12-1","TRBV13-1","TRBV12-2","TRBV13-2",
"TRBV12-3","TRBV13-3","TRBV14","TRBV15","TRBV16",
"TRBV17","TRBV18","TRBV19","TRBV20","TRBV21",
"TRBV22","TRBV23","TRBV24","TRBV25","TRBV26",
"TRBV27","TRBV28","TRBV29","TRBV30","TRBV31")
OLGA_V=data_v
names(OLGA_V)=genes_v
data_j=c(0.0652945,0.0862079,0.0689002,0.079988,0.0452374,0.0469952,0,0.106836,0.060607,0.0878155,0.0728365,0.109029,0,0.170252)
genes_j=c("TRBJ1-1",
"TRBJ1-2",
"TRBJ1-3",
"TRBJ1-4",
"TRBJ1-5",
"TRBJ1-6",
"TRBJ1-7",
"TRBJ2-1",
"TRBJ2-2",
"TRBJ2-3",
"TRBJ2-4",
"TRBJ2-5",
"TRBJ2-6",
"TRBJ2-7")
OLGA_J=data_j
names(OLGA_J)=genes_j
OLGAVJ = OLGA_V %*% t(OLGA_J)
rownames(OLGAVJ)=names(OLGA_V)
save(OLGA_V,OLGA_J,OLGAVJ,file="OLGA_V_J_mouse_beta.rda")
save(OLGA_V,file="/Users/kseniia/my_R_packages/tcrgrapher/data/olga_v.rda")
save(OLGA_J,file="/Users/kseniia/my_R_packages/tcrgrapher/data/olga_j.rda")
save(OLGAVJ,file="/Users/kseniia/my_R_packages/tcrgrapher/data/olgavj.rda")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
check()
library(devtools)
check()
library(devtools)
check()
devtools::document()
check()
check()
check()
check()
check()
OLGA_J=data_j
names(OLGA_J)=genes_j
options(stringsAsFactors = FALSE)
#all based on ("../OLGA-master/olga/default_models/mouse_T_beta/model_params.txt")
#and model_marginals.txt
data_v=c(0.0440805,0.0454627,0.0457181,0.0955078,0.0544171,0,0,0,6.00962e-05,0,0,0.0608283,0.038777,0.028129,0.0625765,0,0.0324506,0.0232873,0.052524,0.0423377,0.0226563,0,0.0621995,0.031265,0.0102163,0.00509315,0.00776743,0.0665865,0,0.0894231,0,0,0.0321364,0.00172776,0.0447716)
genes_v=c("TRBV1","TRBV2","TRBV3","TRBV4","TRBV5",
"TRBV6","TRBV7","TRBV8","TRBV9","TRBV10",
"TRBV11","TRBV12-1","TRBV13-1","TRBV12-2","TRBV13-2",
"TRBV12-3","TRBV13-3","TRBV14","TRBV15","TRBV16",
"TRBV17","TRBV18","TRBV19","TRBV20","TRBV21",
"TRBV22","TRBV23","TRBV24","TRBV25","TRBV26",
"TRBV27","TRBV28","TRBV29","TRBV30","TRBV31")
OLGA_V=data_v
names(OLGA_V)=genes_v
data_j=c(0.0652945,0.0862079,0.0689002,0.079988,0.0452374,0.0469952,0,0.106836,0.060607,0.0878155,0.0728365,0.109029,0,0.170252)
genes_j=c("TRBJ1-1",
"TRBJ1-2",
"TRBJ1-3",
"TRBJ1-4",
"TRBJ1-5",
"TRBJ1-6",
"TRBJ1-7",
"TRBJ2-1",
"TRBJ2-2",
"TRBJ2-3",
"TRBJ2-4",
"TRBJ2-5",
"TRBJ2-6",
"TRBJ2-7")
OLGA_J=data_j
names(OLGA_J)=genes_j
OLGAVJ = OLGA_V %*% t(OLGA_J)
rownames(OLGAVJ)=names(OLGA_V)
#save(OLGA_V,OLGA_J,OLGAVJ,file="OLGA_V_J_mouse_beta.rda")
#save(OLGA_V,file="/Users/kseniia/my_R_packages/tcrgrapher/data/olga_v.rda")
#save(OLGA_J,file="/Users/kseniia/my_R_packages/tcrgrapher/data/olga_j.rda")
OLGAVJ_mouseTRB = OLGAVJ
save(OLGAVJ_mouseTRB,file="/Users/kseniia/my_R_packages/tcrgrapher/data/OLGAVJ_mouseTRB.rda")
zero_v=names(OLGA_V[OLGA_V==0])
zero_j=names(OLGA_J[OLGA_J==0])
pseudo_v=c("TRBV8","TRBV9","TRBV10","TRBV21")
pseudo_j=c("TRBJ1-6","TRBJ1-7")
bad_v=c(zero_v,pseudo_v)
bad_j=c(zero_j,pseudo_j)
good_v=names(OLGA_V)[!names(OLGA_V) %in% bad_v]
good_j=names(OLGA_J)[!names(OLGA_J) %in% bad_j]
long_v=c()
long_j=c()
for (v in good_v)
{
for (j in good_j)
{
long_v=c(long_v,v)
long_j=c(long_j,j)
}
}
VDJT=data.frame("V"=long_v,"J"=long_j)
save(VDJT,file="VDJT.rda")
check()
OLGAVJ_MOUSE_TRB = OLGAVJ
save(OLGAVJ_MOUSE_TRB,file="/Users/kseniia/my_R_packages/tcrgrapher/data/OLGAVJ_MOUSE_TRB.rda")
check()
devtools::document()
devtools::document()
check()
devtools::document()
load("/Users/kseniia/Downloads/OLGA_V_J_hum_beta.rda")
load("/Users/kseniia/Downloads/OLGA_V_J_hum_beta.rda")
OLGAVJ_HUMAN_TRB = OLGAVJ
save(OLGAVJ_HUMAN_TRB,file="/Users/kseniia/my_R_packages/tcrgrapher/data/OLGAVJ_HUMAN_TRB.rda")
View(OLGAVJ)
load("/Users/kseniia/Downloads/OLGA_A_hum_alpha.rda")
OLGAVJ_HUMAN_TRA = OLGAVJA
save(OLGAVJ_HUMAN_TRA,file="/Users/kseniia/my_R_packages/tcrgrapher/data/OLGAVJ_HUMAN_TRA.rda")
check()
check()
check()
paste0("tmp", 1:5, ".tsv")
check()
check()
check()
devtools::document()
devtools::document()
devtools::document()
?ncols
?ncol
?floor
floor(1000)
floor(1000.1)
floor(1001)
floor(100.9)
